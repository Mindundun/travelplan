<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>패스트립 :: 일정 관리</title>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"> -->
    <!-- css -->
   <link rel="icon" th:href="@{/img/favicon-01.png}">
   <link rel="stylesheet" th:href="@{/css/common/reset.css}">
   <link rel="stylesheet" th:href="@{/css/common/all.min.css}">
   <link rel="stylesheet" th:href="@{/css/common/fonts.css}">
   <link rel="stylesheet" th:href="@{/css/header-footer.css}">
   <link rel="stylesheet" th:href="@{/css/todolist.css}">
   <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
   <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
   <!-- js -->
   <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="/js/todolist.js"></script>
</head>
<body>
    <!-- Header 포함 -->
    <div id="wrap">
        <header class="admin-header">
            <div id="header-box">
                <h1 class="logo"><a href="/"><img src="/img/logo_black.png" alt="패스뱅크"></a></h1>
                <div class="nav">
                    <!-- <ul>
                        <li class="main-menu"><a href="#">메인화면</a></li>
                        <li class="main-menu"><a href="#">고객관리</a></li>
                    </ul> -->
                </div>
                <div class="top-nav">
                    <span class="top-btn"><a href="#">설정</a></span>
                    <span class="top-btn"><a href="/logout">로그아웃</a></span>
                </div>
            </div>
        </header>
        <main class="main">
            <aside>
                <div class="admin-user">
                    <img src="/img/person.png" alt="유저">
                    <p class="name">홍길동님 환영합니다.</p>
                </div>
                <ul class="aside-nav">
                    <li class="aside-menu active" data-index="1"><a href="todomain2" ><span class="material-symbols-outlined" >favorite</span>내 일정</a></li>
                    <li class="aside-menu" data-index="2"><a href="#" ><span class="material-symbols-outlined">monitoring</span>여행 일정</a></li>
                    <li class="aside-menu" data-index="2"><a href="#" ><span class="material-symbols-outlined">monitoring</span>공유된 일정</a></li>
                    <li class="aside-menu" data-index="3"><a href="#" ><span class="material-symbols-outlined">monitoring</span>팔로워 목록</a></li>
                    <li class="aside-menu" data-index="4"><a href="#" ><span class="material-symbols-outlined">person_search</span>고객센터</a></li>
                </ul>
                <hr>
                <ul class="fun">
                    <li><a href="#" target="_blank"><img src="/img/dash-pencil-purple.png" alt="공지사항">공지사항</a></li>
                    <li><a href="https://securities.koreainvestment.com/main/Main.jsp?n_media=27758&n_query=%ED%95%9C%EA%B5%AD%ED%88%AC%EC%9E%90%EC%A6%9D%EA%B6%8C&n_rank=1&n_ad_group=grp-a001-04-000000041279778&n_ad=nad-a001-04-000000324347896&n_keyword_id=nkw-a001-04-000006115364320&n_keyword=%ED%95%9C%EA%B5%AD%ED%88%AC%EC%9E%90%EC%A6%9D%EA%B6%8C&n_campaign_type=4&n_contract=tct-a001-04-000000000972264&n_ad_group_type=5&NaPm=ct%3Dm2in2gn4%7Cci%3D0yC0001mXfjBstsi10Y6%7Ctr%3Dbrnd%7Chk%3Df4f7473fe848897f5d23c8a2f71a596aa6c67e69%7Cnacn%3D6e6JCog9CpKXA" target="_blank"><img src="/img/dash-search.png" alt="주식시장">주식시장</a></li>
                    <li><a href="https://search.naver.com/search.naver?sm=tab_hty.top&where=nexearch&ssc=tab.nx.all&query=%EC%98%A4%EB%8A%98%EB%82%A0%EC%94%A8&oquery=%ED%95%9C%EA%B5%AD%ED%88%AC%EC%9E%90%EC%A6%9D%EA%B6%8C&tqi=ixU1Swqo1SossObajE8sssssssw-136166" target="_blank"><img src="/img/dash-student-form.png" alt="날씨정보">날씨정보</a></li>
                    <li><a href="https://www.kakaocorp.com/page/service/service/KakaoTalk" target="_blank"><img src="/img/dash-chat.png" alt="카카오톡">카카오톡</a></li>
                </ul>
            </aside>
            <div class="todo-right">
                <div class="search">
                    <h3>년도</h3>
                    <select name="search">
                        <option value="년도">2025</option>
                        <option value="년도">2024</option>
                        <option value="년도">2023</option>
                    </select>
                    <h3>카테고리</h3>
                    <select name="search">
                        <option value="구분">회사</option>
                        <option value="구분">친구</option>
                        <option value="구분">가족</option>
                        <option value="구분">개인</option>
                        <option value="구분">공유된 일정</option>
                    </select>
                    <h3>구분</h3>
                    <select name="search">
                        <option value="구분">완료</option>
                        <option value="구분">미완료</option>
                    </select>
                    <form action="">
                        <input type="text" name="username" placeholder="일정명을 입력하세요."/><span></span>
                    </form>
                    <button class="search-btn">조회</button>
                </div>
                <div class="table-text">
                    <h4>조회된 항목은 총<span class="number">0</span> 건입니다.<span>완료된항목0건</span>&nbsp;<span>미완료된항목0건</span></h4>
                    <a href="/add-todo" class="btn btn-success">리스트 추가</a>
                </div>
                <table class="table">
                    <thead>
                        <tr>
                            <th>일정명</th>
                            <th>카테고리</th>
                            <th>시작 날짜</th>
                            <th>종료 날짜</th>
                            <th>완료 여부</th>
                            <th>비고</th>
                            <th>삭제/수정</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="todo : ${todos}">
                            <td th:text="${todo.eventName}"></td> <!-- 일정명 -->
                            <td th:text="${todo.category}"></td> <!-- 카테고리 -->
                            <td th:text="${#temporals.format(todo.targetDateFr, 'yyyy-MM-dd')}"></td> <!-- 시작 날짜 -->
                            <td th:text="${#temporals.format(todo.targetDateTo, 'yyyy-MM-dd')}"></td> <!-- 종료 날짜 -->
                            <td th:text="${todo.done ? '완료' : '미완료'}"></td> <!-- 완료 여부 -->
                            <td th:text="${todo.remark}"></td> <!-- 비고 -->
                            <td>
                                <!-- 삭제 및 수정 버튼 -->
                                <a th:href="'delete-todo?id=' + ${todo.id}" class="btn btn-warning">삭제</a>
                                <a th:href="'update-todo?id=' + ${todo.id}" class="btn btn-success">수정</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
                
            </div>
            <div id="modal" class="modal">
                <div class="modal-content">
                    <span class="close" onclick="closeModal()">&times;</span>
                    <h2>투두 수정</h2>
            
                    <!-- 제목 입력 -->
                    <div class="modal-row">
                        <label for="title">제목</label>
                        <input type="text" id="title" placeholder="제목을 입력하세요">
                    </div>
            
                    <!-- 카테고리와 기간 (같은 줄에 배치) -->
                    <div class="modal-row">
                        <div class="modal-column">
                            <label for="category">카테고리</label>
                            <input type="text" id="category" placeholder="카테고리">
                        </div>
                        <div class="modal-row">
                            <div class="modal-column">
                                <label for="start-date">시작 날짜</label>
                                <input type="date" id="start-date">
                            </div>
                            <div class="modal-column">
                                <label for="end-date">종료 날짜</label>
                                <input type="date" id="end-date">
                            </div>
                        </div>
                    </div>
            
                    <!-- 알림 설정과 내용 (같은 줄에 배치) -->
                    <div class="modal-row">
                        <div class="modal-column">
                            <label for="notification">알림 설정</label>
                            <select id="notification">
                                <option value="none">없음</option>
                                <option value="1hour">1시간 전</option>
                                <option value="1day">1일 전</option>
                            </select>
                        </div>
                        <div class="modal-column">
                            <label for="details">내용</label>
                            <input type="text" id="details" placeholder="내용을 입력하세요">
                        </div>
                    </div>
                    <!-- 장소 입력 -->
                    <div class="modal-row">
                        <label for="location">장소</label>
                        <input type="text" id="location" placeholder="장소를 입력하세요">
                    </div>
                    <div class="modal-row">
                        <label for="share-with">공유 대상자 (이메일)</label>
                        <div id="email-input-container">
                            <input type="email" id="email-input" placeholder="이메일 입력 후 Enter" onkeypress="addEmail(event)">
                        </div>
                        <div id="email-list"></div>
                    </div>
            
                    <!-- 저장 버튼 -->
                    <button onclick="saveTodo()">저장</button>
                </div>
            </div>
        </main>
    </div>

    <script>


    </script>
</body>
</html>
